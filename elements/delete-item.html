<link rel="import" href="/bower_components/polymer/polymer.html">
<link rel="import" href="/bower_components/paper-input/paper-input.html">
<link rel="import" href="/bower_components/paper-button/paper-button.html">
<link rel="import" href="/bower_components/paper-material/paper-material.html">
<link rel="import" href="/bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="/bower_components/iron-icons/iron-icons.html">
<link rel="import" href="/bower_components/paper-icon-button/paper-icon-button.html">

<dom-module id="delete-item" attributes="id">
  <template>
   
      <paper-icon-button icon="clear" on-click="deleteTask"></paper-icon-button>
  
    
    <iron-ajax
               id="ajax"
               handle-as="json"
               method="DELETE"
               on-response="handleResponse">
    </iron-ajax>
    
    <style>
     paper-material{
       background-color: #00c853;
     }
     paper-icon-button{
       color:#03a9f4;
     } 
    </style>
  </template>
  
  <script>
    Polymer({
     is: "delete-item",
      properties:{
        id:{
          type: String,
          value:""
        },
        deleted: {
          type: Boolean,
          value: false
        },
      },
      deleteTask: function(){
         this.$.ajax.url = "http://alecx-box-144703.nitrousapp.com/tasks/" + this.id;
         this.$.ajax.generateRequest();
      },
      handleResponse: function(event) {
        this.deleted = true;
      },
    });
  </script>
  
</ dom-module>