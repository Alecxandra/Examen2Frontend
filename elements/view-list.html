<link rel="import" href="/bower_components/polymer/polymer.html">
<link rel="import" href="/bower_components/paper-input/paper-input.html">
<link rel="import" href="/bower_components/paper-button/paper-button.html">
<link rel="import" href="/bower_components/paper-material/paper-material.html">
<link rel="import" href="/bower_components/iron-ajax/iron-ajax.html">

<link rel="import" href="/elements/task-element.html">

<dom-module id="view-list">
   <template>
     <iron-ajax
               auto
               url="http://alecx-box-144703.nitrousapp.com/tasks"
               handle-as="json"
               method="GET"
               last-response="{{tasks}}">
    </iron-ajax>
        
     <paper-material elevation="4">
      
        <template is="dom-repeat" items="{{tasks}}">
          <task-element id="{{item.id}}" text="{{item.text}}" state="{{item.state}}" on-change="onChangeHandler"></task-element>
        </template>
   </paper-material>    

  </template>
 
<script>
    Polymer({
     is: "view-list",
      properties: {
            tasks: { type: Array, notify: true, value: function(){return []} }
        },
      onChangeHandler: function(event) {
        console.log("El task-element cambi√≥: " + event);
      },
    });
  </script>
  
</ dom-module>